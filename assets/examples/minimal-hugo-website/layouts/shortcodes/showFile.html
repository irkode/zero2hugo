{{- with $path := $.Get 0 -}}
  {{- with $format := $.Get 1 -}}
    {{- with $fileContent := readFile $path -}}
      {{- highlight $fileContent $format -}}
    {{- else -}}
      {{- errorf (printf "reading file failed: %s" $path) -}}
    {{- end -}}
  {{- else -}}
    {{- errorf "missing" -}}
  {{- end -}}
{{- else -}}
  {{- errorf "include failed" -}}
{{- end -}}
